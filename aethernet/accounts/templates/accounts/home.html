{% extends "base.html" %}
{% block content %}
    <h1>Welcome to AetherNet</h1>

    {% if notifications %}
        <ul class="notifications">
            {% for notification in notifications %}
                <li>{{ notification.message }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No notifications.</p>
    {% endif %}

    {% if user.is_authenticated %}
        <p>Hello, {{ user.username }}! You are logged in.</p>
        <a href="{% url 'logout' %}" class="button">Logout</a>
    {% else %}
        <p>You are not logged in.</p>
        <a href="{% url 'login' %}" class="button">Login</a> | 
        <a href="{% url 'register' %}" class="button">Register</a>
    {% endif %}

    <h2>Smart HVAC & Rainwater Management</h2>

    <div class="sensor-container">
        <div class="sensor-box">
            <p>ðŸŒ¡ Temperature: <span id="temperature">--</span></p>
        </div>
        <div class="sensor-box">
            <p>ðŸ’§ Humidity: <span id="humidity">--</span></p>
        </div>
        <div class="sensor-box">
            <p>ðŸŒ§ Rainfall: <span id="rainfall">--</span></p>
        </div>
        <div class="sensor-box">
            <p>ðŸš° Tank Level: <span id="tankLevel">--</span></p>
        </div>
        <div class="sensor-box">
            <p>âš¡ HVAC Load: <span id="hvacLoad">--</span></p>
        </div>
        <div class="sensor-box">
            <p><strong>ðŸ›  System Decision:</strong> {{ sensor_data.decision }}</p>
        </div>
    </div>
    
    <div class="chart-section">
        <div class="chart-container">
            <canvas id="temperatureChart"></canvas>
        </div>
        <div class="chart-container">
            <canvas id="humidityChart"></canvas>
        </div>
        <div class="chart-container">
            <canvas id="tankLevelChart"></canvas>
        </div>
    </div>

{% endblock %}
